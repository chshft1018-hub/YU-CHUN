<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>ä¸‰å¹´ç´šæ•¸å­¸å­¸ç¿’ç«™</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root {
      --bg: #f5f7fb;
      --primary: #3f72ff;
      --card: #ffffff;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: "Segoe UI","Noto Sans TC",system-ui;
      background: var(--bg);
      display: flex;
      min-height: 100vh;
      color: #1f2937;
    }
    .sidebar {
      width: 260px;
      background: #1f2937;
      color: #fff;
      padding: 1rem 1rem 2rem;
      display: flex;
      flex-direction: column;
      gap: .75rem;
    }
    .logo { font-weight:700; margin-bottom:.5rem; }
    .unit-btn {
      background: rgba(255,255,255,.05);
      border: 1px solid transparent;
      padding: .6rem .7rem;
      border-radius: 12px;
      cursor: pointer;
      text-align: left;
      transition: .2s;
      display: flex;
      gap: .6rem;
      align-items: center;
    }
    .unit-btn small { opacity:.7; font-size:.7rem; display:block; }
    .unit-btn.active, .unit-btn:hover {
      background: rgba(255,255,255,.18);
      border-color: rgba(255,255,255,.13);
    }
    .main {
      flex: 1;
      padding: 1.25rem 1.5rem 2.5rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    .topbar { display:flex; justify-content:space-between; gap:1rem; }
    .badge {
      background: rgba(63,114,255,.1);
      color: #3f72ff;
      padding: .25rem .5rem;
      border-radius: 999px;
      font-size: .7rem;
      font-weight: 600;
    }
    .score-box { background:#fff; border-radius:14px; padding:.75rem .9rem; }
    .content-area {
      display:grid;
      grid-template-columns:1.2fr .8fr;
      gap:1rem;
      align-items:flex-start;
    }
    .card {
      background: var(--card);
      border-radius: 16px;
      padding: 1rem 1.2rem;
      box-shadow: 0 10px 25px rgba(15,23,42,.04);
    }
    .reading h2 { margin-top:0; }
    .reading ul { margin:0; padding-left:1.15rem; line-height:1.6; }
    .btn {
      background: var(--primary);
      color: #fff;
      border: none;
      padding: .55rem 1.1rem;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      gap: .4rem;
      align-items: center;
    }
    .question-box {
      background: #fff7ec;
      border-radius:14px;
      padding:.75rem .9rem .85rem;
      min-height:200px;
    }
    .question-title { font-weight:700; margin-bottom:.5rem; }
    .options { display:flex; flex-direction:column; gap:.4rem; }
    .option {
      background:#fff;
      border:1px solid rgba(0,0,0,.05);
      border-radius:10px;
      padding:.4rem .5rem;
      cursor:pointer;
      transition:.15s;
    }
    .option:hover { border-color:rgba(63,114,255,.4); }
    .option.correct { background:rgba(63,114,255,.12); border-color:rgba(63,114,255,.4); }
    .option.wrong { background:rgba(255,95,109,.12); border-color:rgba(255,95,109,.5); }
    .hint {
      background:#fff;
      border-left:5px solid #ff5f6d;
      padding:.5rem .75rem;
      border-radius:10px;
      margin-top:.45rem;
      font-size:.85rem;
      display:none;
    }
    .progress-wrap { display:flex; align-items:center; gap:.5rem; }
    .progress-bar { flex:1; background:#e5ecff; height:.55rem; border-radius:9999px; overflow:hidden; }
    .progress-bar span { display:block; height:100%; background:linear-gradient(90deg,#3f72ff,#7a9dff); width:0%; transition:width .3s; }
    .img-box { margin-top:.35rem; background:#fff; border-radius:10px; padding:.3rem; text-align:center; display:none; }
    .inline-svg { width:100%; max-height:180px; object-fit:contain; }
    .finish { background:#fff; border-radius:12px; text-align:center; padding:1.25rem .75rem; margin-top:.5rem; display:none; }
    @media(max-width:1000px){ .content-area{grid-template-columns:1fr;} .sidebar{display:none;} }
  </style>
</head>
<body>
  <aside class="sidebar">
    <div class="logo">ğŸ“˜ æ•¸å­¸å­¸ç¿’ç«™ v1</div>
    <div class="unit-btn active" data-unit="line"><div>1. æ•´æ•¸æ•¸ç·šèˆ‡æ¯”è¼ƒå¤§å°</div><small>NC-3-11-1</small></div>
    <div class="unit-btn" data-unit="rectangle"><div>2. è¾¨èªé•·æ–¹å½¢</div><small>SC-3-2-2</small></div>
    <div class="unit-btn" data-unit="circle"><div>3. èªè­˜åœ“å¿ƒã€åŠå¾‘ã€ç›´å¾‘</div><small>SC-3-3-1</small></div>
    <div class="unit-btn" data-unit="weight1"><div>4. å…¬æ–¤ã€å…¬å…‹èˆ‡æ›ç®—</div><small>NC-3-16-1</small></div>
    <div class="unit-btn" data-unit="weight2"><div>5. è¤‡åæ•¸åŠ æ¸›(ä¸é€²é€€ä½)</div><small>NC-3-16-2</small></div>
  </aside>

  <main class="main">
    <div class="topbar">
      <div>
        <div class="badge" id="unit-code">NC-3-11-1</div>
        <h1 id="unit-title" style="margin:.2rem 0 0;">æ•´æ•¸æ•¸ç·šèˆ‡æ¯”è¼ƒå¤§å°</h1>
        <p id="unit-desc" style="margin:.1rem 0 0;color:#6b7280;font-size:.9rem;">å…ˆèªè­˜æ•¸ç·šçš„åˆ»åº¦èˆ‡æ–¹å‘ï¼Œå†ç·´ç¿’ã€Œå¾€å³æ˜¯åŠ ã€å¾€å·¦æ˜¯æ¸›ã€ï¼Œæœ€å¾Œæ¯”è¼ƒå…©å€‹æ•¸çš„å¤§å°ã€‚</p>
      </div>
      <div class="score-box">
        <div style="font-size:.8rem;color:#6b7280">æœ¬å–®å…ƒå¾—åˆ†</div>
        <div style="font-size:1.6rem;font-weight:700;" id="score">0 / 8</div>
      </div>
    </div>

    <div class="content-area">
      <div class="card reading" id="reading-box">
        <h2>å­¸ç¿’é‡é»</h2>
        <ul id="reading-content"></ul>
        <button class="btn" id="next-to-quiz" style="margin-top:.8rem;">æˆ‘çœ‹å®Œäº†ï¼Œé–‹å§‹ç­”é¡Œ âœ</button>
      </div>

      <div class="card">
        <div class="progress-wrap">
          <div style="font-size:.8rem;">é¡Œç›®é€²åº¦</div>
          <div class="progress-bar"><span id="progress-bar"></span></div>
          <div id="q-counter" style="font-size:.8rem;">0 / 8</div>
        </div>
        <div class="question-box" id="question-box">
          <div class="question-title" id="question-title">è«‹å…ˆçœ‹å·¦é‚Šçš„å­¸ç¿’é‡é»å–” ğŸ‘ˆ</div>
          <div class="img-box" id="img-box"></div>
          <div class="options" id="options"></div>
          <div class="hint" id="hint-box">
            <strong>æç¤º</strong>
            <span id="hint-content"></span>
          </div>
        </div>
        <div class="finish" id="finish-box">
          <h3>ğŸ‰ å¤ªæ£’äº†ï¼ä½ å®Œæˆé€™å€‹å–®å…ƒäº†ï¼</h3>
          <p>å¯ä»¥å›å·¦é‚Šæ›ä¸‹ä¸€å€‹å–®å…ƒï¼Œæˆ–å†ç©ä¸€æ¬¡æœ¬å–®å…ƒã€‚</p>
          <button class="btn" id="restart-unit">å†ç©ä¸€æ¬¡</button>
        </div>
      </div>
    </div>
  </main>

  <script>
    /* é¡Œåº«ç¶­æŒä¸Šä¸€ç‰ˆçš„å…§å®¹ï¼ˆå«ä½ å‰›èªªçš„ weight1 ç¬¬ä¸‰é¡Œæ”¹æˆ 55gï¼‰ï¼Œé€™è£¡ç•¥ï¼ŒåŒæ¨£äº”å€‹å–®å…ƒéƒ½åœ¨ */
    const UNIT_DATA = {
      line: {
        code: "NC-3-11-1",
        title: "æ•´æ•¸æ•¸ç·šèˆ‡æ¯”è¼ƒå¤§å°",
        desc: "æ•¸ç·šä¸Šå¾€å³æ•¸æ˜¯è®Šå¤§ã€å¾€å·¦æ•¸æ˜¯è®Šå°ï¼›ä¹Ÿèƒ½ç”¨ã€Œçµ‚é» âˆ’ èµ·é»ã€ç®—è·é›¢ã€‚",
        reading: [
          "1. æ•¸ç·šæœ€å·¦é‚Šçš„åˆ»åº¦æ˜¯ 0ï¼Œå¾€å³æ¯ä¸€æ ¼ä»£è¡¨ 1ã€‚",
          "2. å¾€å³ç§»å‹•å¯ä»¥æƒ³æˆã€ŒåŠ æ³•ã€ï¼Œå¾€å·¦ç§»å‹•å¯ä»¥æƒ³æˆã€Œæ¸›æ³•ã€ã€‚",
          "3. æ¯”å¤§å°ï¼šåœ¨å³é‚Šçš„æ•¸æ¯”è¼ƒå¤§ï¼›åœ¨å·¦é‚Šçš„æ•¸æ¯”è¼ƒå°ã€‚",
          "4. å…©å€‹é»çš„è·é›¢ = å³é‚Šçš„æ•¸ âˆ’ å·¦é‚Šçš„æ•¸ã€‚"
        ],
        questions: [
          { question: "é»‘é»å¾åˆ»åº¦ 5 å¾€å³ç§»å‹• 6 æ ¼ï¼Œæœƒåˆ°å“ªä¸€å€‹åˆ»åº¦ï¼Ÿ",
            options: ["9","10","11","12"], answer: 2, hint: "5 + 6 = 11ã€‚", img: "numberline-5to11" },
          { question: "é»‘é»å¾åˆ»åº¦ 11 å¾€å·¦ç§»å‹• 7 æ ¼ï¼Œæœƒåˆ°å“ªè£¡ï¼Ÿ",
            options: ["3","4","5","6"], answer: 1, hint: "11 âˆ’ 7 = 4ã€‚", img: "numberline-11to4" },
          { question: "ä¸€æ¢æ•¸ç·šä¸Šæœ‰äºŒå€‹é»‘é»ï¼Œåˆ†åˆ¥åœ¨ 4 å’Œ 12ï¼Œè«‹å•å®ƒå€‘çš„è·é›¢æ˜¯å¤šå°‘æ ¼ï¼Ÿ",
            options: ["6","7","8","9"], answer: 2, hint: "12 âˆ’ 4 = 8ã€‚", img: "numberline-4to12" },
          { question: "3 æ¯” 8 å°ï¼Œè«‹å•åˆ»åº¦ 3 åœ¨åˆ»åº¦ 8 çš„å“ªä¸€é‚Šï¼Ÿ",
            options: ["å·¦é‚Š","å³é‚Š"], answer: 0, hint: "å°çš„åœ¨å·¦ï¼Œå¤§çš„åœ¨å³ã€‚", img: "numberline-3vs8" },
          { question: "å¾åˆ»åº¦ 7 å¾€å·¦ç§»å‹• 4 æ ¼ï¼Œæœƒåˆ°å“ªè£¡ï¼Ÿ",
            options: ["3","4","5","6"], answer: 0, hint: "7 âˆ’ 4 = 3ã€‚", img: "numberline-7to3" },
          { question: "å¾åˆ»åº¦ 3 å¾€å³ç§»å‹• 8 æ ¼ï¼Œæœƒåˆ°å“ªè£¡ï¼Ÿ",
            options: ["9","10","11","12"], answer: 2, hint: "3 + 8 = 11ã€‚", img: "numberline-3to11" },
          { question: "åœ¨æ•¸ç·šä¸Šï¼Œèª°æ¯”è¼ƒå¤§ï¼Ÿ",
            options: ["6","4"], answer: 0, hint: "å³é‚Šçš„æ¯”è¼ƒå¤§ã€‚", img: "numberline-6vs4" },
          { question: "äºŒå€‹é»‘é»åœ¨ 4 å’Œ 11ï¼Œå®ƒå€‘çš„è·é›¢æ˜¯å¤šå°‘ï¼Ÿ",
            options: ["5","6","7","8"], answer: 2, hint: "11 âˆ’ 4 = 7ã€‚", img: "numberline-4to11" }
        ]
      },
      rectangle: {
        code: "SC-3-2-2",
        title: "ä»¥ã€Œè§’ã€èˆ‡ã€Œé‚Šã€ç­‰æ§‹æˆè¦ç´ è¾¨èªé•·æ–¹å½¢",
        desc: "é•·æ–¹å½¢æœ‰å››å€‹ç›´è§’ï¼Œå°é‚Šç­‰é•·ï¼Œä¸Šä¸‹æ˜¯é•·é‚Šã€å·¦å³æ˜¯å¯¬é‚Šã€‚",
        reading: [
          "1. ä¸Šä¸‹å…©æ¢é‚Šä¸€æ¨£é•·ï¼Œå·¦å³å…©æ¢é‚Šä¹Ÿä¸€æ¨£é•·ã€‚",
          "2. å››å€‹è§’éƒ½æ˜¯ç›´è§’ã€‚",
          "3. ä¸Šä¸‹å«é•·é‚Šï¼Œå·¦å³å«å¯¬é‚Šã€‚",
          "4. å°é‚Šç­‰é•·åˆæœ‰å››å€‹ç›´è§’ï¼Œå°±æ˜¯é•·æ–¹å½¢ã€‚"
        ],
        questions: [
          { question: "ä¸‹é¢å“ªä¸€å€‹æ¢ä»¶å¯ä»¥åˆ¤æ–·ä¸€å€‹åœ–å½¢æ˜¯é•·æ–¹å½¢ï¼Ÿ",
            options: [
              "å››æ¢é‚Šéƒ½ä¸ä¸€æ¨£é•·",
              "ä¸Šä¸‹é‚Šä¸€æ¨£é•·ã€å·¦å³é‚Šä¸€æ¨£é•·ã€å››å€‹è§’éƒ½æ˜¯ç›´è§’",
              "åªæœ‰ä¸€å€‹ç›´è§’",
              "å››æ¢é‚Šéƒ½ä¸€æ¨£é•·ä½†æ²’æœ‰ç›´è§’"
            ],
            answer: 1,
            hint: "è¦åŒæ™‚æœ‰ï¼šå°é‚Šç­‰é•· + å››å€‹ç›´è§’ã€‚", img: "rect-basic" },
          { question: "é•·æ–¹å½¢çš„å››å€‹è§’éƒ½æ˜¯å¹¾åº¦çš„è§’ï¼Ÿ",
            options: ["éŠ³è§’", "éˆè§’", "ç›´è§’"],
            answer: 2,
            hint: "ç›´è§’=90Â°ã€‚", img: "rect-angles" },
          { question: "é•·æ–¹å½¢çš„ä¸Šä¸‹å…©æ¢é‚Šï¼Œæˆ‘å€‘å¸¸ç¨±ä½œä»€éº¼ï¼Ÿ",
            options: ["æ–œé‚Š", "é•·é‚Š", "å¯¬é‚Š"],
            answer: 1,
            hint: "æ¯”è¼ƒé•·çš„é‚£ä¸€çµ„å«é•·é‚Šã€‚" },
          { question: "é€™å€‹åœ–å½¢ä¸Šä¸‹ 6 å…¬åˆ†ã€å·¦å³ 4 å…¬åˆ†ï¼Œå››å€‹è§’éƒ½æ˜¯ç›´è§’ï¼Œå®ƒæ˜¯é•·æ–¹å½¢å—ï¼Ÿ",
            options: ["æ˜¯", "ä¸æ˜¯"],
            answer: 0,
            hint: "å°é‚Šç­‰é•·åˆæ˜¯ç›´è§’ï¼Œå°±æ˜¯é•·æ–¹å½¢ã€‚", img: "rect-6x4" },
          { question: "å¦‚æœä¸€å€‹åœ–å½¢å››æ¢é‚Šéƒ½ä¸€æ¨£é•·ã€å››å€‹è§’éƒ½æ˜¯ç›´è§’ï¼Œå®ƒä¸€å®šæ˜¯ï¼Ÿ",
            options: ["é•·æ–¹å½¢", "æ­£æ–¹å½¢", "é•·æ–¹å½¢ä¹Ÿæ˜¯æ­£æ–¹å½¢"],
            answer: 2,
            hint: "æ­£æ–¹å½¢ä¹Ÿå¯ä»¥çœ‹æˆç‰¹åˆ¥çš„é•·æ–¹å½¢ã€‚" },
          { question: "ä¸‹åˆ—å“ªä¸€å€‹ä¸æ˜¯é•·æ–¹å½¢ï¼Ÿ",
            options: [
              "ä¸Šä¸‹ 5 å…¬åˆ†ã€å·¦å³ 3 å…¬åˆ†ã€å››å€‹ç›´è§’",
              "ä¸Šä¸‹ 4 å…¬åˆ†ã€å·¦å³ 4 å…¬åˆ†ã€å››å€‹ç›´è§’",
              "ä¸Šä¸‹ 6 å…¬åˆ†ã€å·¦å³ 3 å…¬åˆ†ã€å…¶ä¸­ä¸€å€‹è§’ä¸æ˜¯ç›´è§’",
              "ä¸Šä¸‹ 10 å…¬åˆ†ã€å·¦å³ 2 å…¬åˆ†ã€å››å€‹ç›´è§’"
            ],
            answer: 2,
            hint: "åªè¦æœ‰ä¸€å€‹è§’ä¸æ˜¯ç›´è§’ï¼Œå°±ä¸æ˜¯ã€‚" },
          { question: "è€å¸«é‡åˆ°ä¸Šä¸‹éƒ½æ˜¯ 8 å…¬åˆ†ï¼Œå·¦å³éƒ½æ˜¯ 5 å…¬åˆ†ï¼Œå››å€‹è§’éƒ½æ˜¯ç›´è§’ï¼Œé€™å€‹åœ–å½¢çš„å¯¬é‚Šæ˜¯ï¼Ÿ",
            options: ["8 å…¬åˆ†", "5 å…¬åˆ†", "13 å…¬åˆ†"],
            answer: 1,
            hint: "å·¦å³è¼ƒçŸ­çš„é‚£ä¸€çµ„æ˜¯å¯¬é‚Šã€‚" },
          { question: "é•·æ–¹å½¢å¯ä»¥ç”¨ã€Œå°æ‘ºã€ä¾†æª¢æŸ¥å—ï¼Ÿ",
            options: ["å¯ä»¥ï¼Œå°æ‘ºå¾Œå…©é‚Šæœƒé‡åˆ", "ä¸è¡Œï¼Œå°æ‘ºä¸€å®šä¸ä¸€æ¨£"],
            answer: 0,
            hint: "ä¸Šä¸‹ã€å·¦å³éƒ½èƒ½æ‘ºã€‚", img: "rect-fold" }
        ]
      },
      circle: {
        code: "SC-3-3-1",
        title: "èªè­˜åœ“å¿ƒã€åœ“å‘¨ã€åŠå¾‘èˆ‡ç›´å¾‘",
        desc: "åœ“çš„åŠå¾‘éƒ½ä¸€æ¨£é•·ï¼Œç›´å¾‘æœƒé€šéåœ“å¿ƒï¼Œç›´å¾‘ = 2 Ã— åŠå¾‘ã€‚",
        reading: [
          "1. åœ“å¿ƒæ˜¯åœ“çš„ä¸­å¿ƒé»ã€‚",
          "2. é€£åˆ°åœ“å‘¨çš„ä¸€æ¢ç·šæ®µå«åŠå¾‘ã€‚",
          "3. é€šéåœ“å¿ƒåˆé€£åˆ°åœ“å‘¨å…©ç«¯çš„å«ç›´å¾‘ã€‚",
          "4. ç›´å¾‘ = 2 Ã— åŠå¾‘ï¼ŒåŠå¾‘ = ç›´å¾‘ Ã· 2ã€‚"
        ],
        questions: [
          { question: "ä¸‹é¢å“ªä¸€æ¢ç·šæ®µæ˜¯åœ“çš„åŠå¾‘ï¼Ÿ",
            options: [
              "é€šéåœ“å¿ƒé€£åˆ°åœ“å‘¨çš„ä¸€æ¢ç·š",
              "æ²’æœ‰é€šéåœ“å¿ƒçš„ç·š",
              "ä¸€æ¢å½å½çš„ç·š"
            ],
            answer: 0,
            hint: "åŠå¾‘ä¸€å®šå¾åœ“å¿ƒå‡ºç™¼ã€‚", img: "circle-basic" },
          { question: "ä¸€å€‹åœ“çš„åŠå¾‘æ˜¯ 6 å…¬åˆ†ï¼Œç›´å¾‘æ˜¯å¤šå°‘å…¬åˆ†ï¼Ÿ",
            options: ["3 å…¬åˆ†", "6 å…¬åˆ†", "12 å…¬åˆ†"],
            answer: 2,
            hint: "ç›´å¾‘ = åŠå¾‘ Ã— 2 â†’ 12ã€‚", img: "circle-r6" },
          { question: "ä¸€å€‹åœ“çš„ç›´å¾‘æ˜¯ 10 å…¬åˆ†ï¼ŒåŠå¾‘æ˜¯å¤šå°‘å…¬åˆ†ï¼Ÿ",
            options: ["5 å…¬åˆ†","10 å…¬åˆ†","20 å…¬åˆ†"],
            answer: 0,
            hint: "åŠå¾‘ = ç›´å¾‘ Ã· 2ã€‚" },
          { question: "ä¸‹åˆ—æ•˜è¿°ä½•è€…æ­£ç¢ºï¼Ÿ",
            options: [
              "ä¸€å€‹åœ“åªæœ‰ä¸€æ¢åŠå¾‘",
              "ä¸€å€‹åœ“å¯ä»¥æœ‰å¾ˆå¤šæ¢åŠå¾‘è€Œä¸”éƒ½ä¸€æ¨£é•·",
              "ç›´å¾‘éƒ½æ¯”åŠå¾‘çŸ­"
            ],
            answer: 1,
            hint: "åœ“å¿ƒåˆ°åœ“å‘¨éƒ½ä¸€æ¨£é ã€‚"},
          { question: "ç›´å¾‘è·Ÿ 2 æ¢åŠå¾‘çš„é—œä¿‚æ˜¯ï¼Ÿ",
            options: [
              "ç›´å¾‘æ¯”å…©æ¢åŠå¾‘åŠ èµ·ä¾†çŸ­",
              "ç›´å¾‘è·Ÿ 2 æ¢åŠå¾‘æ¥èµ·ä¾†ä¸€æ¨£é•·",
              "æ²’æœ‰ä¸€å®š"
            ],
            answer: 1,
            hint: "ç›´å¾‘ = 2 Ã— åŠå¾‘ã€‚", img: "circle-2r" },
          { question: "è€å¸«è¦ç•«ç›´å¾‘ 6 å…¬åˆ†çš„åœ“ï¼Œåœ“è¦æ‡‰è©²å…ˆé‡å¹¾å…¬åˆ†çš„åŠå¾‘ï¼Ÿ",
            options: ["2 å…¬åˆ†","3 å…¬åˆ†","6 å…¬åˆ†"],
            answer: 1,
            hint: "åŠå¾‘ = 6 Ã· 2 = 3ã€‚" },
          { question: "ä¸‹åˆ—å“ªä¸€å€‹åç¨±æ˜¯ã€Œåœ“å‘¨ä¸Šçš„é»ã€ï¼Ÿ",
            options: ["åœ“å¿ƒ","åœ¨åœ“å‘¨ä¸Šçš„ A é»","ç›´å¾‘"],
            answer: 1,
            hint: "åœ“å¿ƒä¸åœ¨å¤–é¢å–”ã€‚" },
          { question: "ä¸€å€‹åœ“çš„åŠå¾‘æ˜¯ 12 å…¬åˆ†ï¼Œç›´å¾‘æ˜¯å¤šå°‘ï¼Ÿ",
            options: ["12 å…¬åˆ†","18 å…¬åˆ†","24 å…¬åˆ†"],
            answer: 2,
            hint: "ç›´å¾‘ = 12 Ã— 2 = 24ã€‚" }
        ]
      },
      weight1: {
        code: "NC-3-16-1",
        title: "èªè­˜é‡é‡å–®ä½ã€Œå…¬æ–¤ã€ã€ã€Œå…¬å…‹ã€åŠå…¶é—œä¿‚",
        desc: "1 å…¬æ–¤ = 1000 å…¬å…‹ï¼Œå¯ä»¥ç”¨ä¾†è®€ç§¤ã€åšåŠ æ¸›ã€åšæ•´æ•¸å€çš„ä¹˜æ³•ã€‚",
        reading: [
          "1. è¼•çš„ç”¨å…¬å…‹(g)ã€é‡çš„ç”¨å…¬æ–¤(kg)ã€‚",
          "2. 1 å…¬æ–¤ = 1000 å…¬å…‹ï¼ˆä¸€å®šè¦èƒŒï¼‰ã€‚",
          "3. çœ‹ç§¤æ™‚è¦çœ‹æŒ‡é‡åœåœ¨å“ªå€‹åˆ»åº¦ã€‚",
          "4. å…¬å…‹ã€å…¬æ–¤éƒ½å¯ä»¥åšåŠ æ¸›å’Œä¹˜æ³•ã€‚"
        ],
        questions: [
          { question: "1 å…¬æ–¤ç­‰æ–¼å¤šå°‘å…¬å…‹ï¼Ÿ",
            options: ["10 å…¬å…‹","100 å…¬å…‹","1000 å…¬å…‹"],
            answer: 2,
            hint: "1 å…¬æ–¤ = 1000 å…¬å…‹ã€‚", img: "weight-1kg-block" },
          { question: "ä¸€åŒ…ç³– 40 å…¬å…‹ï¼Œç”¨æ‰ 25 å…¬å…‹ï¼Œé‚„å‰©å¤šå°‘å…¬å…‹ï¼Ÿ",
            options: ["15 å…¬å…‹","20 å…¬å…‹","65 å…¬å…‹"],
            answer: 0,
            hint: "40 âˆ’ 25 = 15ã€‚" },
          { question: "20 å…¬å…‹ + 35 å…¬å…‹ = ï¼Ÿ",
            options: ["45 å…¬å…‹","52 å…¬å…‹","55 å…¬å…‹"],
            answer: 2,
            hint: "å°±åƒåœ¨åŠ  20 + 35ï¼Œä¸€æ­¥ä¸€æ­¥åŠ ï¼Œæœƒæ˜¯ 55 å…¬å…‹ã€‚", img: "weight-55g-two-bags" },
          { question: "6 å…¬æ–¤è¦æ›æˆå…¬å…‹ï¼Œæ˜¯å¤šå°‘å…¬å…‹ï¼Ÿ",
            options: ["600 å…¬å…‹","6000 å…¬å…‹","60 å…¬å…‹"],
            answer: 1,
            hint: "1 å…¬æ–¤ = 1000 å…¬å…‹ â†’ 6 Ã— 1000 = 6000 å…¬å…‹ã€‚" },
          { question: "4000 å…¬å…‹æ›æˆå…¬æ–¤æ˜¯å¤šå°‘ï¼Ÿ",
            options: ["2 å…¬æ–¤","3 å…¬æ–¤","4 å…¬æ–¤"],
            answer: 2,
            hint: "1000 å…¬å…‹ = 1 å…¬æ–¤ï¼Œæ‰€ä»¥ 4000 å…¬å…‹ = 4 å…¬æ–¤ã€‚", img: "weight-4000g" },
          { question: "é€™å€‹æ±è¥¿æ”¾åœ¨ç§¤ä¸Šï¼ŒæŒ‡é‡æŒ‡åœ¨ 350 å…¬å…‹ï¼Œè«‹å•å¤šé‡ï¼Ÿ",
            options: ["300 å…¬å…‹","350 å…¬å…‹","500 å…¬å…‹"],
            answer: 1,
            hint: "åœ¨ 300 å’Œ 400 ä¸­é–“é•·åˆ»åº¦æ˜¯ 350 å…¬å…‹ã€‚", img: "weight-350g-fruit" },
          { question: "ä¸€å°åŒ…ç³–æœ 16 å…¬å…‹ï¼Œ3 åŒ…å…±å¹¾å…¬å…‹ï¼Ÿ",
            options: ["32 å…¬å…‹","44 å…¬å…‹","48 å…¬å…‹"],
            answer: 2,
            hint: "16 Ã— 3 = 48ã€‚" },
          { question: "ä¸‹åˆ—å“ªä¸€å€‹æ•˜è¿°æ­£ç¢ºï¼Ÿ",
            options: [
              "1000 å…¬å…‹æ¯” 1 å…¬æ–¤é‡",
              "1000 å…¬å…‹å’Œ 1 å…¬æ–¤ä¸€æ¨£é‡",
              "1000 å…¬å…‹æ¯” 1 å…¬æ–¤è¼•"
            ],
            answer: 1,
            hint: "å®ƒå€‘æ˜¯åŒä¸€å€‹é‡é‡çš„å…©ç¨®èªªæ³•ã€‚" }
        ]
      },
      weight2: {
        code: "NC-3-16-2",
        title: "å…¬æ–¤ã€å…¬å…‹è¤‡åæ•¸çš„åŠ ã€æ¸›è¨ˆç®—ï¼ˆä¸é€²é€€ä½ï¼‰",
        desc: "æŠŠå…¬æ–¤å’Œå…¬å…‹åˆ†é–‹ç®—ï¼Œå°±èƒ½åŠ ã€èƒ½æ¸›ã€ä¹Ÿèƒ½ä¹˜ã€‚",
        reading: [
          "1. è¤‡åæ•¸ = ä¸€æ¬¡å‡ºç¾ã€å…¬æ–¤ã€å’Œã€å…¬å…‹ã€ã€‚",
          "2. åŠ æ³•ï¼šå…¬æ–¤åŠ å…¬æ–¤ï¼›å…¬å…‹åŠ å…¬å…‹ã€‚",
          "3. æ¸›æ³•ï¼šå…¬æ–¤æ¸›å…¬æ–¤ï¼›å…¬å…‹æ¸›å…¬å…‹ã€‚",
          "4. é€™è£¡å…ˆå­¸ä¸é€²ä½ã€ä¸é€€ä½çš„ä¾‹å­ã€‚"
        ],
        questions: [
          { question: "1 å…¬æ–¤ 600 å…¬å…‹ ï¼‹ 1 å…¬æ–¤ 200 å…¬å…‹ = ï¼Ÿ",
            options: ["2 å…¬æ–¤ 700 å…¬å…‹","2 å…¬æ–¤ 800 å…¬å…‹","2 å…¬æ–¤ 900 å…¬å…‹"],
            answer: 1,
            hint: "1+1=2ï¼›600+200=800ã€‚" },
          { question: "3 å…¬æ–¤ 500 å…¬å…‹ âˆ’ 2 å…¬æ–¤ 400 å…¬å…‹ = ï¼Ÿ",
            options: ["1 å…¬æ–¤ 100 å…¬å…‹","1 å…¬æ–¤ 200 å…¬å…‹","1 å…¬æ–¤ 300 å…¬å…‹"],
            answer: 0,
            hint: "3-2=1ï¼›500-400=100ã€‚" },
          { question: "2500 å…¬å…‹ ï¼‹ 1300 å…¬å…‹ = ï¼Ÿ",
            options: ["3 å…¬æ–¤ 800 å…¬å…‹","3 å…¬æ–¤ 500 å…¬å…‹","4 å…¬æ–¤"],
            answer: 0,
            hint: "2500+1300=3800g=3kg800gã€‚" },
          { question: "1 å…¬æ–¤ 300 å…¬å…‹ ï¼‹ 2 å…¬æ–¤ 250 å…¬å…‹ = ï¼Ÿ",
            options: ["3 å…¬æ–¤ 50 å…¬å…‹","3 å…¬æ–¤ 550 å…¬å…‹","3 å…¬æ–¤ 700 å…¬å…‹"],
            answer: 1,
            hint: "è·Ÿæ•™æä¸€æ¨£ï¼Œæ˜¯ 3 å…¬æ–¤ 550 å…¬å…‹ã€‚" },
          { question: "4 å…¬æ–¤ 900 å…¬å…‹ âˆ’ 1 å…¬æ–¤ 850 å…¬å…‹ = ï¼Ÿ",
            options: ["3 å…¬æ–¤ 50 å…¬å…‹","3 å…¬æ–¤ 100 å…¬å…‹","3 å…¬æ–¤ 150 å…¬å…‹"],
            answer: 0,
            hint: "4-1=3ï¼›900-850=50 â†’ 3kg50gã€‚" },
          { question: "130 å…¬å…‹ Ã— 3 = ï¼Ÿ",
            options: ["390 å…¬å…‹","360 å…¬å…‹","300 å…¬å…‹"],
            answer: 0,
            hint: "130+130+130=390ã€‚" },
          { question: "6 å…¬æ–¤ 300 å…¬å…‹ ç­‰æ–¼å¹¾å…¬å…‹ï¼Ÿ",
            options: ["630 å…¬å…‹","6300 å…¬å…‹","6003 å…¬å…‹"],
            answer: 1,
            hint: "6kg=6000g â†’ +300g=6300gã€‚" },
          { question: "4300 å…¬å…‹ âˆ’ 1 å…¬æ–¤ 100 å…¬å…‹ = ï¼Ÿ",
            options: ["3 å…¬æ–¤ 100 å…¬å…‹","3 å…¬æ–¤ 200 å…¬å…‹","3 å…¬æ–¤ 300 å…¬å…‹"],
            answer: 1,
            hint: "1kg100g=1100gï¼›4300-1100=3200g=3kg200gã€‚" }
        ]
      }
    };

    // ====== ç‹€æ…‹ ======
    let currentUnitKey = "line";
    let currentIndex = -1;
    let currentScore = 0;

    // ====== DOM ======
    const unitTitle = document.getElementById("unit-title");
    const unitDesc  = document.getElementById("unit-desc");
    const unitCode  = document.getElementById("unit-code");
    const readingBox= document.getElementById("reading-box");
    const readingContent = document.getElementById("reading-content");
    const nextBtn   = document.getElementById("next-to-quiz");
    const qTitle    = document.getElementById("question-title");
    const optionsBox= document.getElementById("options");
    const hintBox   = document.getElementById("hint-box");
    const hintContent = document.getElementById("hint-content");
    const progressBar = document.getElementById("progress-bar");
    const qCounter  = document.getElementById("q-counter");
    const scoreBox  = document.getElementById("score");
    const imgBox    = document.getElementById("img-box");
    const finishBox = document.getElementById("finish-box");
    const restartBtn= document.getElementById("restart-unit");

    function loadUnit(key){
      currentUnitKey = key;
      const unit = UNIT_DATA[key];
      unitTitle.textContent = unit.title;
      unitDesc.textContent  = unit.desc;
      unitCode.textContent  = unit.code;

      readingContent.innerHTML = "";
      unit.reading.forEach(t=>{
        const li = document.createElement("li");
        li.textContent = t;
        readingContent.appendChild(li);
      });

      currentIndex = -1;
      currentScore = 0;
      scoreBox.textContent = "0 / 8";
      qCounter.textContent = "0 / 8";
      progressBar.style.width = "0%";
      readingBox.style.display = "block";
      finishBox.style.display  = "none";
      qTitle.textContent = "è«‹å…ˆçœ‹å·¦é‚Šçš„å­¸ç¿’é‡é»å–” ğŸ‘ˆ";
      optionsBox.innerHTML = "";
      imgBox.style.display = "none";
      hintBox.style.display = "none";
    }

    document.querySelectorAll(".unit-btn").forEach(btn=>{
      btn.addEventListener("click",()=>{
        document.querySelectorAll(".unit-btn").forEach(b=>b.classList.remove("active"));
        btn.classList.add("active");
        loadUnit(btn.dataset.unit);
      });
    });

    nextBtn.addEventListener("click",()=>{ goNextQuestion(); });

    function goNextQuestion(){
      const unit = UNIT_DATA[currentUnitKey];
      currentIndex++;
      if(currentIndex >= unit.questions.length){
        finishBox.style.display = "block";
        return;
      }
      readingBox.style.display = "none";
      renderQuestion();
    }

    function renderQuestion(){
      const unit = UNIT_DATA[currentUnitKey];
      const q    = unit.questions[currentIndex];
      qTitle.textContent = (currentIndex+1)+". "+q.question;
      optionsBox.innerHTML = "";
      hintBox.style.display = "none";

      if(q.img){
        imgBox.style.display = "block";
        imgBox.innerHTML = makeSVG(q.img);
      }else{
        imgBox.style.display = "none";
      }

      q.options.forEach((opt,idx)=>{
        const div = document.createElement("div");
        div.className = "option";
        div.textContent = opt;
        div.addEventListener("click",()=>checkAnswer(idx));
        optionsBox.appendChild(div);
      });

      qCounter.textContent = (currentIndex+1)+" / "+unit.questions.length;
      progressBar.style.width = (currentIndex / unit.questions.length) * 100 + "%";
    }

    function checkAnswer(choice){
      const unit = UNIT_DATA[currentUnitKey];
      const q    = unit.questions[currentIndex];
      const allOptions = document.querySelectorAll(".option");

      if(choice === q.answer){
        allOptions.forEach(o=>o.classList.remove("wrong"));
        allOptions[choice].classList.add("correct");
        hintBox.style.display = "none";
        currentScore++;
        scoreBox.textContent = currentScore + " / " + unit.questions.length;
        setTimeout(()=>{
          if(currentIndex === unit.questions.length - 1){
            progressBar.style.width = "100%";
            finishBox.style.display = "block";
          }
          goNextQuestion();
        }, 550);
      }else{
        allOptions[choice].classList.add("wrong");
        hintBox.style.display = "block";
        hintContent.textContent = q.hint || "å›æƒ³ä¸€ä¸‹å‰›å‰›çš„å­¸ç¿’é‡é»å–”ï¼";
      }
    }

    restartBtn.addEventListener("click",()=>{ loadUnit(currentUnitKey); });

    // ===== SVGï¼šæŠŠã€Œç¬¬ä¸€å–®å…ƒã€å’Œã€Œç¬¬å››å–®å…ƒã€çš„åœ–ä¸‹é¢é‚£è¡Œæ–‡å­—æ‹¿æ‰ =====
    function makeSVG(key){
      const scaleBase = `<rect x="25" y="80" width="150" height="28" rx="6" fill="#fde68a" stroke="#f59e0b" stroke-width="2"></rect>`;
      switch(key){
        /* æ•¸ç·šï¼ˆä¸é¡¯ç¤ºç­”æ¡ˆæ–‡å­—ï¼‰ */
        case "numberline-5to11":
          return `<svg class="inline-svg" viewBox="0 0 320 100">
            <line x1="20" y1="50" x2="300" y2="50" stroke="#222" stroke-width="2"></line>
            ${[0,1,2,3,4,5,6,7,8,9,10,11].map((n,i)=>`<line x1="${30+i*22}" y1="45" x2="${30+i*22}" y2="55" stroke="#222" stroke-width="2"></line><text x="${27+i*22}" y="70" font-size="10">${n}</text>`).join("")}
            <circle cx="${30+5*22}" cy="50" r="5" fill="#3f72ff"></circle>
            <line x1="${30+5*22}" y1="32" x2="${30+11*22}" y2="32" stroke="#3f72ff" stroke-width="2" marker-end="url(#arr)"></line>
            <defs><marker id="arr" markerWidth="6" markerHeight="6" refX="5" refY="3" orient="auto"><path d="M0,0 L0,6 L6,3 z" fill="#3f72ff"></path></marker></defs>
          </svg>`;
        case "numberline-11to4":
        case "numberline-4to12":
        case "numberline-7to3":
        case "numberline-3to11":
        case "numberline-4to11":
        case "numberline-3vs8":
        case "numberline-6vs4":
          return `<svg class="inline-svg" viewBox="0 0 320 90">
            <line x1="20" y1="45" x2="300" y2="45" stroke="#222" stroke-width="2"></line>
            ${[0,1,2,3,4,5,6,7,8,9,10,11,12].map((n,i)=>`<line x1="${25+i*20}" y1="40" x2="${25+i*20}" y2="50" stroke="#222" stroke-width="2"></line><text x="${22+i*20}" y="68" font-size="10">${n}</text>`).join("")}
          </svg>`;

        /* é•·æ–¹å½¢ã€åœ“å½¢ â†’ ä¿ç•™åº•ä¸‹èªªæ˜ */
        case "rect-basic":
        case "rect-angles":
        case "rect-6x4":
        case "rect-fold":
          return `<svg class="inline-svg" viewBox="0 0 240 140">
            <rect x="40" y="30" width="150" height="80" fill="#fff" stroke="#3f72ff" stroke-width="3" rx="4"></rect>
            <text x="50" y="25" font-size="11" fill="#3f72ff">å°é‚Šç­‰é•·ã€å››å€‹ç›´è§’</text>
            <text x="48" y="120" font-size="10" fill="#444">é•·æ–¹å½¢ç¤ºæ„</text>
          </svg>`;
        case "circle-basic":
        case "circle-r6":
        case "circle-2r":
          return `<svg class="inline-svg" viewBox="0 0 200 160">
            <circle cx="100" cy="70" r="45" fill="#fff" stroke="#3f72ff" stroke-width="3"></circle>
            <circle cx="100" cy="70" r="4" fill="#ff5f6d"></circle>
            <line x1="100" y1="70" x2="145" y2="70" stroke="#ff5f6d" stroke-width="3"></line>
            <line x1="55" y1="70" x2="145" y2="70" stroke="#f97316" stroke-width="2"></line>
            <text x="78" y="23" font-size="11" fill="#ff5f6d">åœ“å¿ƒ</text>
            <text x="26" y="135" font-size="10" fill="#3f72ff">ç´…ï¼šåŠå¾‘ã€€æ©˜ï¼šç›´å¾‘</text>
          </svg>`;

        /* é‡é‡ï¼ˆä¸é¡¯ç¤ºç­”æ¡ˆæ–‡å­—ï¼‰ */
        case "weight-1kg-block":
          return `<svg class="inline-svg" viewBox="0 0 220 130">
            ${scaleBase}
            <rect x="55" y="55" width="90" height="12" rx="5" fill="#fee2e2" stroke="#ef4444" stroke-width="1.5"></rect>
            <rect x="80" y="20" width="40" height="40" rx="6" fill="#e5e7eb" stroke="#4b5563" stroke-width="1.5"></rect>
            <text x="90" y="46" font-size="13" font-weight="700" fill="#111827">1kg</text>
          </svg>`;
        case "weight-4000g":
          return `<svg class="inline-svg" viewBox="0 0 220 140">
            ${scaleBase}
            <rect x="45" y="50" width="110" height="14" rx="5" fill="#fff7ed" stroke="#ea580c" stroke-width="1.2"></rect>
            ${[0,1,2,3].map(i=>`
              <rect x="${48+i*26}" y="22" width="22" height="30" rx="4" fill="#fde68a" stroke="#f97316" stroke-width="1"></rect>
              <text x="${51+i*26}" y="41" font-size="8" fill="#9a3412">1kg</text>
            `).join("")}
          </svg>`;
        case "weight-350g-fruit":
          return `<svg class="inline-svg" viewBox="0 0 220 140">
            ${scaleBase}
            <ellipse cx="110" cy="62" rx="55" ry="10" fill="#fee2e2" stroke="#ef4444" stroke-width="1.5"></ellipse>
            <path d="M90 30 Q110 5 130 30 L135 70 Q110 85 85 70 Z" fill="#f97316" stroke="#c05621" stroke-width="1.5"></path>
            <text x="95" y="52" font-size="10" fill="#fff">æ°´æœ</text>
            <circle cx="45" cy="45" r="22" fill="#fff" stroke="#f97316" stroke-width="1.5"></circle>
            <line x1="45" y1="45" x2="60" y2="35" stroke="#f97316" stroke-width="2"></line>
          </svg>`;
        case "weight-55g-two-bags":
          return `<svg class="inline-svg" viewBox="0 0 220 130">
            ${scaleBase}
            <rect x="55" y="55" width="90" height="12" rx="5" fill="#e0f2fe" stroke="#0ea5e9" stroke-width="1.5"></rect>
            <rect x="65" y="25" width="28" height="26" rx="4" fill="#fee2e2" stroke="#ef4444" stroke-width="1"></rect>
            <text x="69" y="42" font-size="9" fill="#991b1b">20g</text>
            <rect x="105" y="18" width="32" height="33" rx="4" fill="#fef9c3" stroke="#ca8a04" stroke-width="1"></rect>
            <text x="109" y="39" font-size="9" fill="#854d0e">35g</text>
          </svg>`;

        default:
          return `<div>ï¼ˆåœ–ç¤ºï¼‰</div>`;
      }
    }

    loadUnit("line");
  </script>
</body>
</html>
